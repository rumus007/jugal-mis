(self.webpackChunk=self.webpackChunk||[]).push([[757],{8406:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var a=n(4015),r=n.n(a),l=n(3645),s=n.n(l)()(r());s.push([e.id,".institution[data-v-e9d6908e]{display:flex}.map-filter[data-v-e9d6908e]{list-style:none}","",{version:3,sources:["webpack://./resources/js/src/views/institution/FilterInstitutionByType.vue"],names:[],mappings:"AAiHA,8BACA,YACA,CACA,6BACA,eACA",sourcesContent:['<template>\n  <div class="section__map--inner">\n    <div class="map-sidebar">\n      <span>संस्थागत विवरण</span>\n      <div>\n        <input\n          type="checkbox"\n          v-model="allSelected"\n          @click="handleSelectAllClick"\n        />\n        Select All\n      </div>\n      <div\n        class="map-filter"\n        v-for="(typeData, index) in categoryList"\n        v-bind:key="index"\n      >\n        <input\n          type="checkbox"\n          :id="typeData.id"\n          :value="typeData.id"\n          v-model="selectedCategory"\n        />\n        <label>{{ typeData.nepali_name }} {{ `(${typeData.total})` }}</label>\n        <br />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { filterObject, route } from "../../common/helper.js";\nexport default {\n  name: "FilterByType",\n  props: {\n    resourceFilter: { type: Array, required: true },\n    wardFilter: { type: Array, required: true },\n  },\n  data: function () {\n    return {\n      categoryList: [],\n      selectedCategory: this.resourceFilter,\n      allSelected: true,\n    };\n  },\n\n  methods: {\n    changeMarkerType() {\n      if (this.selectedCategory.length !== this.categoryList.length) {\n        this.allSelected = false;\n      }\n      if (this.selectedCategory.length === this.categoryList.length) {\n        this.allSelected = true;\n      }\n      this.$emit("change", this.selectedCategory);\n    },\n    getTypeList() {\n      const targetUrl = `resource/stats`;\n      let queryParams = Object.assign({}, { ward: this.wardFilter });\n\n      queryParams = filterObject(queryParams);\n      let formattedParams = {};\n      Object.keys(queryParams).map((data) => {\n        if (queryParams[data].length > 0) {\n          formattedParams = {\n            ...formattedParams,\n            [data]: `${queryParams[data].join(",")}`,\n          };\n        }\n      });\n\n      axios.get(targetUrl, { params: formattedParams }).then(({ data }) => {\n        this.categoryList = data.data;\n        this.allSelected && this.selectAllCategory();\n      });\n    },\n\n    selectAllCategory() {\n      let ids = this.categoryList.map((category) => category.id);\n      this.selectedCategory = ids;\n    },\n\n    unCheckAllSelected() {\n      this.selectedCategory = [];\n    },\n    handleSelectAllClick() {\n      !this.allSelected ? this.selectAllCategory() : this.unCheckAllSelected();\n    },\n  },\n\n  watch: {\n    selectedCategory: {\n      handler() {\n        this.changeMarkerType();\n      },\n    },\n    wardFilter: {\n      handler() {\n        this.getTypeList();\n      },\n    },\n  },\n\n  mounted() {\n    this.getTypeList();\n  },\n};\n<\/script>\n\n\n\x3c!-- Add "scoped" attribute to limit CSS to this component only --\x3e\n\n<style scoped>\n.institution {\n  display: flex;\n}\n.map-filter {\n  list-style: none;\n}\n</style>\n'],sourceRoot:""}]);const i=s},6757:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var a=n(853);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const i={name:"FilterByType",props:{resourceFilter:{type:Array,required:!0},wardFilter:{type:Array,required:!0}},data:function(){return{categoryList:[],selectedCategory:this.resourceFilter,allSelected:!0}},methods:{changeMarkerType:function(){this.selectedCategory.length!==this.categoryList.length&&(this.allSelected=!1),this.selectedCategory.length===this.categoryList.length&&(this.allSelected=!0),this.$emit("change",this.selectedCategory)},getTypeList:function(){var e=this,t=Object.assign({},{ward:this.wardFilter});t=(0,a.v7)(t);var n={};Object.keys(t).map((function(e){t[e].length>0&&(n=l(l({},n),{},s({},e,"".concat(t[e].join(",")))))})),axios.get("resource/stats",{params:n}).then((function(t){var n=t.data;e.categoryList=n.data,e.allSelected&&e.selectAllCategory()}))},selectAllCategory:function(){var e=this.categoryList.map((function(e){return e.id}));this.selectedCategory=e},unCheckAllSelected:function(){this.selectedCategory=[]},handleSelectAllClick:function(){this.allSelected?this.unCheckAllSelected():this.selectAllCategory()}},watch:{selectedCategory:{handler:function(){this.changeMarkerType()}},wardFilter:{handler:function(){this.getTypeList()}}},mounted:function(){this.getTypeList()}};n(6050);const c=(0,n(1900).Z)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"section__map--inner"},[n("div",{staticClass:"map-sidebar"},[n("span",[e._v("संस्थागत विवरण")]),e._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.allSelected,expression:"allSelected"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.allSelected)?e._i(e.allSelected,null)>-1:e.allSelected},on:{click:e.handleSelectAllClick,change:function(t){var n=e.allSelected,a=t.target,r=!!a.checked;if(Array.isArray(n)){var l=e._i(n,null);a.checked?l<0&&(e.allSelected=n.concat([null])):l>-1&&(e.allSelected=n.slice(0,l).concat(n.slice(l+1)))}else e.allSelected=r}}}),e._v("\n      Select All\n    ")]),e._v(" "),e._l(e.categoryList,(function(t,a){return n("div",{key:a,staticClass:"map-filter"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedCategory,expression:"selectedCategory"}],attrs:{type:"checkbox",id:t.id},domProps:{value:t.id,checked:Array.isArray(e.selectedCategory)?e._i(e.selectedCategory,t.id)>-1:e.selectedCategory},on:{change:function(n){var a=e.selectedCategory,r=n.target,l=!!r.checked;if(Array.isArray(a)){var s=t.id,i=e._i(a,s);r.checked?i<0&&(e.selectedCategory=a.concat([s])):i>-1&&(e.selectedCategory=a.slice(0,i).concat(a.slice(i+1)))}else e.selectedCategory=l}}}),e._v(" "),n("label",[e._v(e._s(t.nepali_name)+" "+e._s("("+t.total+")"))]),e._v(" "),n("br")])}))],2)])}),[],!1,null,"e9d6908e",null).exports},6050:(e,t,n)=>{var a=n(8406);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,n(5346).Z)("6918e5e2",a,!0,{})}}]);
//# sourceMappingURL=757.js.map