{"version":3,"sources":["webpack:///./resources/js/src/common/helper.js","webpack:///./resources/js/src/views/house/HouseDisasterPrepare.vue?fcbe","webpack:///resources/js/src/views/house/HouseDisasterPrepare.vue","webpack:///./resources/js/src/views/house/HouseDisasterPrepare.vue?843f","webpack:///./resources/js/src/views/house/HouseDisasterPrepare.vue"],"names":["filterObject","obj","propName","undefined","formatRouteUrl","formattedParams","Object","keys","map","data","length","join","name","components","HouseChart","showEqResistantLoader","eqResistantData","showEqResistantGraph","showRiskMitigateLoader","riskMitigateData","showRiskMitigateGraph","showVulnerableLoader","vulnerableData","showVulnerableGraph","methods","showTable","this","dataType","showGraph","getEQResistantData","queryParams","axios","getVulnerableData","getRiskMitigationData","computed","ward","$store","getters","watch","handler","deep","mounted","_vm","_h","$createElement","_c","_self","_v","staticClass","attrs","type","on","horizontalBar","xAxisTitle","yAxisTitle"],"mappings":"m/BAAO,IAsBMA,EAAe,SAACC,GACzB,IAAK,IAAMC,KAAYD,EACG,KAAlBA,EAAIC,IAAsC,OAAlBD,EAAIC,SAAwCC,IAAlBF,EAAIC,WAC/CD,EAAIC,GAGnB,OAAOD,GAcEG,EAAiB,SAAC,GAAa,IAATH,EAAS,QACpCI,EAAkB,GAStB,OARAC,OAAOC,KAAKN,GAAKO,KAAI,SAACC,GACdR,EAAIQ,GAAMC,OAAS,IACrBL,EAAkB,EAAH,KACVA,GADU,QAEZI,EAFY,UAEFR,EAAIQ,GAAME,KAAK,YAI3BN,I,0DCpDX,I,SC+CA,MC/C2O,ED+C3O,CACEO,KAAM,uBACNC,WAAY,CACVC,WAAY,WAAhB,uCAEEL,KAAM,WACJ,MAAO,CACLM,uBAAuB,EACvBC,gBAAiB,GACjBC,sBAAsB,EACtBC,wBAAwB,EACxBC,iBAAkB,GAClBC,uBAAuB,EACvBC,sBAAsB,EACtBC,eAAgB,GAChBC,qBAAqB,IAGzBC,QAAS,CACPC,UAAW,SAAf,GACMC,KAAKC,IAAY,GAEnBC,UAAW,SAAf,GACMF,KAAKC,IAAY,GAEnBE,mBAAoB,WAAxB,WACMH,KAAKX,uBAAwB,EAC7B,IACN,mBACMe,GAAc,WACd,IAAN,cACMC,MACN,IALA,iCAKA,CAAQ,OAAR,IACA,kBAAQ,IAAR,WACQ,EAAR,kEACQ,EAAR,4BAJA,OAMA,WACQ,EAAR,6BAGIC,kBAAmB,WAAvB,WACMN,KAAKL,sBAAuB,EAC5B,IACN,mBACMS,GAAc,WACd,IAAN,cACMC,MACN,IALA,6BAKA,CAAQ,OAAR,IACA,kBAAQ,IAAR,WACQ,EAAR,iEACQ,EAAR,2BAJA,OAMA,WACQ,EAAR,4BAGIE,sBAAuB,WAA3B,WACMP,KAAKR,wBAAyB,EAC9B,IACN,mBACMY,GAAc,WACd,IAAN,cACMC,MACN,IALA,4BAKA,CAAQ,OAAR,IACA,kBAAQ,IAAR,WACQ,EAAR,mEACQ,EAAR,6BAJA,OAMA,WACQ,EAAR,+BAIEG,SAAU,CACRC,KADJ,WAEM,OAAOT,KAAKU,OAAOC,QAAQF,OAG/BG,MAAO,CACLH,KAAM,CACJI,QADN,WAEQb,KAAKG,qBACLH,KAAKM,oBACLN,KAAKO,yBAEPO,MAAM,IAGVC,QAzFF,WA0FIf,KAAKG,qBACLH,KAAKM,oBACLN,KAAKO,0BEzHT,SAXgB,E,QAAA,GACd,GHRW,WAAa,IAAIS,EAAIhB,KAASiB,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,KAAK,CAACH,EAAIK,GAAG,qBAAqBL,EAAIK,GAAG,KAAKF,EAAG,MAAM,CAACG,YAAY,sBAAsB,CAACH,EAAG,cAAc,CAACI,MAAM,CAAC,WAAaP,EAAI3B,sBAAsB,KAAO2B,EAAI1B,gBAAgB,MAAQ,uBAAuB,WAAa,uBAAuB,cAAgB,uBAAuB,UAAY0B,EAAIzB,qBAAqB,YAAc,CAAEiC,KAAM,SAAU,qBAAsB,GAAMC,GAAG,CAAC,cAAgBT,EAAId,UAAU,cAAgBc,EAAIjB,aAAaiB,EAAIK,GAAG,KAAKF,EAAG,cAAc,CAACI,MAAM,CAAC,WAAaP,EAAIxB,uBAAuB,KAAOwB,EAAIvB,iBAAiB,MAAQ,oCAAoC,WAAa,oCAAoC,cAAgB,wBAAwB,UAAYuB,EAAItB,sBAAsB,YAAc,CAAE8B,KAAM,SAAU,qBAAsB,GAAMC,GAAG,CAAC,cAAgBT,EAAId,UAAU,cAAgBc,EAAIjB,aAAaiB,EAAIK,GAAG,KAAKF,EAAG,cAAc,CAACI,MAAM,CAAC,WAAaP,EAAIrB,qBAAqB,KAAOqB,EAAIpB,eAAe,MAAQ,oDAAoD,WAAa,oDAAoD,cAAgB,sBAAsB,UAAYoB,EAAInB,oBAAoB,YAAc,CAAE2B,KAAM,MAAOE,eAAe,EAAOC,WAAW,oDAAqDC,WAAW,SAAU,oBAAqB,EAAK,wBAAyB,GAAMH,GAAG,CAAC,cAAgBT,EAAId,UAAU,cAAgBc,EAAIjB,cAAc,OAC/9C,IGUpB,EACA,KACA,WACA,M","file":"js/642.js","sourcesContent":["export const redirectTo = (route) => {\n    window.location = route;\n};\n\nexport const route = (name, params = []) => {\n    if (!window.routes?.hasOwnProperty(name)) {\n        throw Error(`Route ${name} not defined.`)\n    }\n\n    let url = window.routes[name]\n\n    if (params.length === 0) {\n        return url\n    }\n\n    params.map(value => {\n        url = url.replace(/{[A-Za-z0-9_?]+}/, value)\n    });\n\n    return url\n};\n\nexport const filterObject = (obj) => {\n    for (const propName in obj) {\n        if (obj[propName] === \"\" || obj[propName] === null || obj[propName] === undefined) {\n            delete obj[propName];\n        }\n    }\n    return obj;\n};\n\nexport const apexChartYAxisNumericLabelFormatter = (value, decimalPoint = 1) => {\n    if (value !== 0 && value % value.toFixed(decimalPoint) !== 0) {\n        value = value.toFixed(decimalPoint)\n    }\n    return +value;\n}\n/**\n * \n * @param {Function} queryParameter\n * formats the routes query parrams. \n */\nexport const formatRouteUrl = ({...obj}) => {\n    let formattedParams = {};\n    Object.keys(obj).map((data) => {\n        if (obj[data].length > 0) {\n          formattedParams = {\n            ...formattedParams,\n            [data]: `${obj[data].join(\",\")}`,\n          };\n        }\n      });\n    return formattedParams;\n};\n\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',[_vm._v(\"विपद पूर्वतयारी\")]),_vm._v(\" \"),_c('div',{staticClass:\"chart-wrapper flex\"},[_c('house-chart',{attrs:{\"showLoader\":_vm.showEqResistantLoader,\"data\":_vm.eqResistantData,\"title\":'भूकम्प प्रतिराेधी घर',\"tableTitle\":'भूकम्प प्रतिराेधी घर',\"showGraphText\":'showEqResistantGraph',\"showGraph\":_vm.showEqResistantGraph,\"chartDetail\":{ type: 'Donut' },\"showDonutChartClass\":true},on:{\"graphFunction\":_vm.showGraph,\"tableFunction\":_vm.showTable}}),_vm._v(\" \"),_c('house-chart',{attrs:{\"showLoader\":_vm.showRiskMitigateLoader,\"data\":_vm.riskMitigateData,\"title\":'घर परिवारको जोखिम पारिवारिक योजना',\"tableTitle\":'घर परिवारको जोखिम पारिवारिक योजना',\"showGraphText\":'showRiskMitigateGraph',\"showGraph\":_vm.showRiskMitigateGraph,\"chartDetail\":{ type: 'Donut' },\"showDonutChartClass\":true},on:{\"graphFunction\":_vm.showGraph,\"tableFunction\":_vm.showTable}}),_vm._v(\" \"),_c('house-chart',{attrs:{\"showLoader\":_vm.showVulnerableLoader,\"data\":_vm.vulnerableData,\"title\":'घरलाइ प्राकृतिक प्रकोपको जोखिम र जाेखिमकाे प्रकार',\"tableTitle\":'घरलाइ प्राकृतिक प्रकोपको जोखिम र जाेखिमकाे प्रकार',\"showGraphText\":'showVulnerableGraph',\"showGraph\":_vm.showVulnerableGraph,\"chartDetail\":{ type: 'Bar', horizontalBar: false, xAxisTitle:'घरलाइ प्राकृतिक प्रकोपको जोखिम र जाेखिमकाे प्रकार', yAxisTitle:'जम्मा' },\"showFullChartClass\":true,\"showVerticalChartClass\":true},on:{\"graphFunction\":_vm.showGraph,\"tableFunction\":_vm.showTable}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div>\n  <h2>विपद पूर्वतयारी</h2>\n  <div class=\"chart-wrapper flex\">\n    <house-chart\n      :showLoader=\"showEqResistantLoader\"\n      :data=\"eqResistantData\"\n      :title=\"'भूकम्प प्रतिराेधी घर'\"\n      :tableTitle=\"'भूकम्प प्रतिराेधी घर'\"\n      :showGraphText=\"'showEqResistantGraph'\"\n      :showGraph=\"showEqResistantGraph\"\n      :chartDetail=\"{ type: 'Donut' }\"\n      @graphFunction=\"showGraph\"\n      @tableFunction=\"showTable\"\n      :showDonutChartClass=\"true\"\n    />\n    <house-chart\n      :showLoader=\"showRiskMitigateLoader\"\n      :data=\"riskMitigateData\"\n      :title=\"'घर परिवारको जोखिम पारिवारिक योजना'\"\n      :tableTitle=\"'घर परिवारको जोखिम पारिवारिक योजना'\"\n      :showGraphText=\"'showRiskMitigateGraph'\"\n      :showGraph=\"showRiskMitigateGraph\"\n      :chartDetail=\"{ type: 'Donut' }\"\n      @graphFunction=\"showGraph\"\n      @tableFunction=\"showTable\"\n      :showDonutChartClass=\"true\"\n    />\n    <house-chart\n      :showLoader=\"showVulnerableLoader\"\n      :data=\"vulnerableData\"\n      :title=\"'घरलाइ प्राकृतिक प्रकोपको जोखिम र जाेखिमकाे प्रकार'\"\n      :tableTitle=\"'घरलाइ प्राकृतिक प्रकोपको जोखिम र जाेखिमकाे प्रकार'\"\n      :showGraphText=\"'showVulnerableGraph'\"\n      :showGraph=\"showVulnerableGraph\"\n      :chartDetail=\"{ type: 'Bar', horizontalBar: false, xAxisTitle:'घरलाइ प्राकृतिक प्रकोपको जोखिम र जाेखिमकाे प्रकार', yAxisTitle:'जम्मा' }\"\n      @graphFunction=\"showGraph\"\n      @tableFunction=\"showTable\"\n      :showFullChartClass=\"true\"\n      :showVerticalChartClass=\"true\"\n    />\n  </div>\n</div>\n</template>\n<script>\nimport { filterObject, formatRouteUrl } from \"../../common/helper.js\";\n\nexport default {\n  name: \"HouseDisasterPrepare\",\n  components: {\n    HouseChart: () => import(\"./HouseChart\"),\n  },\n  data: function () {\n    return {\n      showEqResistantLoader: false,\n      eqResistantData: [],\n      showEqResistantGraph: true,\n      showRiskMitigateLoader: false,\n      riskMitigateData: [],\n      showRiskMitigateGraph: true,\n      showVulnerableLoader: false,\n      vulnerableData: [],\n      showVulnerableGraph: true,\n    };\n  },\n  methods: {\n    showTable: function (dataType) {\n      this[dataType] = false;\n    },\n    showGraph: function (dataType) {\n      this[dataType] = true;\n    },\n    getEQResistantData: function () {\n      this.showEqResistantLoader = true;\n      const targetUrl = `household/earthquake-resistant`;\n      let queryParams = { ward: this.ward };\n      queryParams = filterObject(queryParams);\n      let formattedParams = formatRouteUrl(queryParams);\n      axios\n        .get(targetUrl, { params: formattedParams })\n        .then(({ data }) => {\n          this.eqResistantData = data?.data ?? [];\n          this.showEqResistantLoader = false;\n        })\n        .catch(() => {\n          this.showEqResistantLoader = false;\n        });\n    },\n    getVulnerableData: function () {\n      this.showVulnerableLoader = true;\n      const targetUrl = `household/vulnerable-types`;\n      let queryParams = { ward: this.ward };\n      queryParams = filterObject(queryParams);\n      let formattedParams = formatRouteUrl(queryParams);\n      axios\n        .get(targetUrl, { params: formattedParams })\n        .then(({ data }) => {\n          this.vulnerableData = data?.data ?? [];\n          this.showVulnerableLoader = false;\n        })\n        .catch(() => {\n          this.showVulnerableLoader = false;\n        });\n    },\n    getRiskMitigationData: function () {\n      this.showRiskMitigateLoader = true;\n      const targetUrl = `household/risk-mitigation`;\n      let queryParams = { ward: this.ward };\n      queryParams = filterObject(queryParams);\n      let formattedParams = formatRouteUrl(queryParams);\n      axios\n        .get(targetUrl, { params: formattedParams })\n        .then(({ data }) => {\n          this.riskMitigateData = data?.data ?? [];\n          this.showRiskMitigateLoader = false;\n        })\n        .catch(() => {\n          this.showRiskMitigateLoader = false;\n        });\n    },\n  },\n  computed: {\n    ward() {\n      return this.$store.getters.ward;\n    },\n  },\n  watch: {\n    ward: {\n      handler() {\n        this.getEQResistantData();\n        this.getVulnerableData();\n        this.getRiskMitigationData();\n      },\n      deep: true,\n    },\n  },\n  mounted() {\n    this.getEQResistantData();\n    this.getVulnerableData();\n    this.getRiskMitigationData();\n  },\n};\n</script>\n<style scoped>\n</style>","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HouseDisasterPrepare.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HouseDisasterPrepare.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HouseDisasterPrepare.vue?vue&type=template&id=535c5a91&scoped=true&\"\nimport script from \"./HouseDisasterPrepare.vue?vue&type=script&lang=js&\"\nexport * from \"./HouseDisasterPrepare.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"535c5a91\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}